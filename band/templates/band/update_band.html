{% extends 'core/base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
{% include 'core/display_messages.html' %}
<main>

<div class="container " xmlns="http://www.w3.org/1999/html">
   <div class="row"></div>
   <div class="row"></div>

   <div class="col s7">

   <form action='{% url "band:add_band" %}' method="post" enctype="multipart/form-data" >
         {% csrf_token %}
         {% include 'core/form_errors.html' with form=form %}


   <!--profile form-->



         {{ form.name|add_label_class:"custom-label"  }}
         {{ form.name }}
      <div class="row"></div>
            <div class="row"></div>
      <div class="row"></div>
         {{ form.bio|add_label_class:"custom-label"  }}
         {{ form.bio|add_class:"materialize-textarea" }}
      <div class="row"></div>
            <div class="row"></div>
      <div class="row"></div>

      <!--avatar form-->

         {{ form.avatar|add_label_class:"custom-label"  }}
   </br>
      <div class="row"></div>
         {{ form.avatar }}

<div class="row"></div>
            <div class="row"></div>
      <div class="row"></div>

   {{ form.type|add_label_class:"custom-label"   }}
   {{ form.type }}

<div class="row"></div>
      <div class="row"></div>
      <div class="row"></div>




<!--local form-->

   <div class="row">
      <div class="col s7">
         <label class="custom-label">Localisation :</label>

      </div>
      <div class="col s3">
          <input id="first" type="button" class="btn custom-btn custom-text " value="trouver">
      </div>
   </div>
   <div class="row">

         {% csrf_token %}
         <div style="display: none"  id="cp" >
            <div class="col s7">
               {{ form.code|add_label_class:"custom-label"  }}
               {{ form.code|append_attr:"class:validate" }}
            </div>
            <div class="col s3">
               <input id="send" type="button" class="btn custom-btn custom-text" value ='MAJ'>
            </div>
         </div>
         <div  style="display: none" id="town" >
            <div class="col s7">
               <div class="row"></div>
               {{ form.town|add_label_class:"custom-label"  }}
               {{ form.town }}
               <div class="row"></div>
               {{ form.county_name|add_label_class:"custom-label"  }}
               {{ form.county_name}}
            </div>

         </div>


   </div>




      <div class="row"></div>
            <div class="row"></div>
      <div class="row"></div>

   <div class="row">

      <button id='form_submit' class="btn-floating btn-large waves-effect waves-light custom-btn " type="submit" >
            <i class="material-icons">check</i></button>
   </div>

</form>
         </div>
</div>

<!-- Modal Structure in case of a bad input cp -->
<div id="bad_cp" class="modal">
   <div class="modal-content">
      <h4>Mauvais code postal</h4>
      <p>Veuillez le resaisir</p>
   </div>
   <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">OK</a>
   </div>
</div>
</main>

{% endblock %}

{% block script %}

<script type="text/javascript" src="{% static 'core/js/geo_api.js' %}"></script>

{% endblock %}